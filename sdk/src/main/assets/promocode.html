<html lang="ru">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mobile quizzes page</title>
    <link rel="icon" href="data:,">
</head>
<body color="transparent">
<div id="qz-target"></div>
<script src="https://api.mindbox.ru/scripts/v1/tracker.js"></script>
<script>
    function deviceUuid() {
       if (!window.webkit) { return SdkBridge.receiveParam('deviceUuid'); } else { return deviceUuidIos(); }
   };

   function endpointId() {
       if (!window.webkit) { return SdkBridge.receiveParam('endpointId'); } else { return endpointIdIos(); }
   };

   function sdkVersion() {
       if (!window.webkit) { return SdkBridge.receiveParam('sdkVersion'); } else { return sdkVersionIos(); }
   };

   function wizardId() {
       if (!window.webkit) { return SdkBridge.receiveParam('wizardId'); } else { return wizardIdIos(); }
   };

    function sendToSdk(action, data) {
        if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.SdkBridge) {
            let message = {
                "data":data,
                "action":action
            };
            window.webkit.messageHandlers.SdkBridge.postMessage(message);
        } else {
            SdkBridge.postMessage(action, data);
        }
    };

   console.log("Mobile SDK version:" + sdkVersion());
   console.log("Mobile SDK deviceUuid:" + deviceUuid());

   document.cookie = "mindboxDeviceUUID=" + deviceUuid();
   window.localStorage.setItem('mindboxDeviceUUID', deviceUuid());

   mindbox = window.mindbox || function() { mindbox.queue.push(arguments); };
   mindbox.queue = mindbox.queue || [];
   mindbox('create', {
       endpointId: 'Mpush-test.personalization.mindbox.ru'
   });

   // fix scroll
   document.addEventListener('touchmove', function(e) {
       e.preventDefault();
   }, { passive: false });
</script>
</body>
</html>
